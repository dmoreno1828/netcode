(function(n){function o(t,i){var u={align:"center",valign:"center"};if(n.extend(u,i),0===t.height())return t.load(function(){o(n(this),i)}),void 0;var f,e,r,l=p(),s=l.width,h=l.height,a=t.width(),v=t.height(),y=h/s,c=v/a;y>c?(f=h/c,e=h):(f=s,e=s*c),r={width:f+"px",height:e+"px",top:"auto",bottom:"auto",left:"auto",right:"auto"},isNaN(parseInt(u.valign,10))?"top"==u.valign?r.top=0:"bottom"==u.valign?r.bottom=0:r.top=(h-e)/2:r.top=0-(e-h)/100*parseInt(u.valign,10)+"px",isNaN(parseInt(u.align,10))?"left"==u.align?r.left=0:"right"==u.align?r.right=0:r.left=(s-f)/2:r.left=0-(f-s)/100*parseInt(u.align,10)+"px",t.css(r)}function a(){h.prependTo("body").fadeIn()}function v(){h.fadeOut("fast",function(){n(this).remove()})}function y(){if(n("body").css("backgroundImage"))return n("body").css("backgroundImage").replace(/url\("?(.*?)"?\)/i,"$1")}function p(){var n=window,t="inner";return"innerWidth"in window||(n=document.documentElement||document.body,t="client"),{width:n[t+"Width"],height:n[t+"Height"]}}var f,w=n("<img />").addClass("vegas-background"),u=n("<div />").addClass("vegas-overlay"),h=n("<div />").addClass("vegas-loading"),i=n(),e=null,r=[],t=0,c=5e3,l=function(){},s={init:function(r){var u={src:y(),align:"center",valign:"center",fade:0,loading:!0,load:function(){},complete:function(){}},f;return n.extend(u,n.vegas.defaults.background,r),u.loading&&a(),f=w.clone(),f.css({position:"fixed",left:"0px",top:"0px"}).bind("load",function(){f!=i&&(n(window).bind("load resize.vegas",function(){o(f,u)}),i.is("img")?(i.stop(),f.hide().insertAfter(i).fadeIn(u.fade,function(){n(".vegas-background").not(this).remove(),n("body").trigger("vegascomplete",[this,t-1]),u.complete.apply(f,[t-1])})):f.hide().prependTo("body").fadeIn(u.fade,function(){n("body").trigger("vegascomplete",[this,t-1]),u.complete.apply(this,[t-1])}),i=f,o(i,u),u.loading&&v(),n("body").trigger("vegasload",[i.get(0),t-1]),u.load.apply(i.get(0),[t-1]),t&&(n("body").trigger("vegaswalk",[i.get(0),t-1]),u.walk.apply(i.get(0),[t-1])))}).attr("src",u.src),n.vegas},destroy:function(t){return t&&"background"!=t||(n(".vegas-background, .vegas-loading").remove(),n(window).unbind("*.vegas"),i=n()),t&&"overlay"!=t||n(".vegas-overlay").remove(),clearInterval(f),n.vegas},overlay:function(t){var i={src:null,opacity:null};return n.extend(i,n.vegas.defaults.overlay,t),u.remove(),u.css({margin:"0",padding:"0",position:"fixed",left:"0px",top:"0px",width:"100%",height:"100%"}),i.src&&u.css("backgroundImage","url("+i.src+")"),i.opacity&&u.css("opacity",i.opacity),u.prependTo("body"),n.vegas},slideshow:function(u,o){var s={step:t,delay:c,preload:!1,backgrounds:r,walk:l},h;return(n.extend(s,n.vegas.defaults.slideshow,u),s.backgrounds!=r&&(u.step||(s.step=0),u.walk||(s.walk=function(){}),s.preload&&n.vegas("preload",s.backgrounds)),r=s.backgrounds,c=s.delay,t=s.step,l=s.walk,clearInterval(f),!r.length)?n.vegas:(h=function(){0>t&&(t=r.length-1),(t>=r.length||!r[t-1])&&(t=0);var i=r[t++];i.walk=s.walk,i.fade===void 0&&(i.fade=s.fade),i.fade>s.delay&&(i.fade=s.delay),n.vegas(i)},h(),o||(e=!1,n("body").trigger("vegasstart",[i.get(0),t-1])),e||(f=setInterval(h,s.delay)),n.vegas)},next:function(){var r=t;return t&&(n.vegas("slideshow",{step:t},!0),n("body").trigger("vegasnext",[i.get(0),t-1,r-1])),n.vegas},previous:function(){var r=t;return t&&(n.vegas("slideshow",{step:t-2},!0),n("body").trigger("vegasprevious",[i.get(0),t-1,r-1])),n.vegas},jump:function(r){var u=t;return t&&(n.vegas("slideshow",{step:r},!0),n("body").trigger("vegasjump",[i.get(0),t-1,u-1])),n.vegas},stop:function(){var r=t;return t=0,e=null,clearInterval(f),n("body").trigger("vegasstop",[i.get(0),r-1]),n.vegas},pause:function(){return e=!0,clearInterval(f),n("body").trigger("vegaspause",[i.get(0),t-1]),n.vegas},get:function(n){return null===n||"background"==n?i.get(0):"overlay"==n?u.get(0):"step"==n?t-1:"paused"==n?e:void 0},preload:function(t){var u=[],i,r;for(i in t)t[i].src&&(r=document.createElement("img"),r.src=t[i].src,u.push(r));return n.vegas}};n.vegas=function(t){return s[t]?s[t].apply(this,Array.prototype.slice.call(arguments,1)):"object"!=typeof t&&t?(n.error("Method "+t+" does not exist"),void 0):s.init.apply(this,arguments)},n.vegas.defaults={background:{},slideshow:{},overlay:{}}})(jQuery)
